<?xml version="1.0" encoding="UTF-8"?>
<database name="propel" defaultIdMethod="native" package="lib.model">

  <behavior name="alternative_coding_standards">
  </behavior>

   <table name="session" phpName="Session">
     <column name="id" type="varchar" size="64" required="true" primaryKey="true" />
     <column name="data" type="longvarchar" required="true" />
     <column name="time" type="integer" required="true" />
   </table>

  <table name="db_schema_migration" phpName="DbSchemaMigration">
    <column name="id" type="integer" required="true" primaryKey="true" autoIncrement="true" />
    <column name="migration" type="varchar" size="255" required="true" />
    <column name="description" type="longvarchar" required="true" />
    <behavior name="timestampable" />
  </table>

  <table name="sf_guard_profile" phpName="sfGuardProfile">
    <column name="id" type="integer" required="true" primaryKey="true" autoIncrement="true" />
    <column name="user_id" type="integer" required="true" />
    <foreign-key foreignTable="sf_guard_user" onDelete="cascade">
      <reference local="user_id" foreign="id" />
    </foreign-key>
    <column name="firstname" type="varchar" required="true" size="55" />
    <column name="lastname" type="varchar" required="true" size="55" />
    <column name="birthday" type="bu_date" />
    <column name="phone" type="varchar" required="false" size="15" />
    <column name="mobile" type="varchar" required="false" size="15" />
    <column name="mail" type="varchar" required="true" size="255" />
    <unique>
      <unique-column name="mail" />
    </unique>
    <column name="address_1" type="varchar" required="false" size="255" />
    <column name="address_2" type="varchar" required="false" size="255" />
    <column name="address_3" type="varchar" required="false" size="255" />
    <column name="zip_code" type="varchar" required="false" size="5" />
    <column name="latitude" type="numeric" size="10,6" required="false" />
    <column name="longitude" type="numeric" size="10,6" required="false" />
    <column name="town" type="varchar" required="false" size="255" />
    <column name="search_index"  type="varchar" required="true" size="111" />
    <index>
      <index-column name="search_index" />
    </index>
  </table>

  <table name="sf_guard_user_preferences" phpName="sfGuardUserPreferences">
    <column name="user_id" type="integer" required="true" primaryKey="1" />
    <foreign-key foreignTable="sf_guard_user" onDelete="cascade" onUpdate="cascade">
      <reference local="user_id" foreign="id" />
    </foreign-key>
    <column name="nb_results" type="integer" default="10" />
    <column name="agenda_nb_days" type="integer" required="true" default="3" />
    <column name="agenda_timeslots_per_hour" type="integer" required="true" default="4" />
    <column name="agenda_timeslot_height" type="integer" required="true" default="15" />
  </table>

  <table name="sf_guard_user_pin_code" phpName="sfGuardUserPinCode">
    <column name="id" type="integer" required="true" primaryKey="true" autoIncrement="true" />
    <column name="user_id" type="integer" required="true" />
    <foreign-key foreignTable="sf_guard_user" onDelete="cascade">
      <reference local="user_id" foreign="id" />
    </foreign-key>
    <column name="activated" type="boolean" default="1" required="false" />
    <column name="password" type="varchar" required="false" size="128" />
  </table>

  <table name="tab_company" phpName="Company">
    <column name="id" type="integer" required="true" primaryKey="true" autoIncrement="true" />
    <column name="name" type="varchar" required="true" size="25" primaryString="true" />
    <column name="phone" type="varchar" required="false" size="15" />
    <column name="mail" type="varchar" required="true" size="255" />
    <column name="address_1" type="varchar" required="true" size="255" />
    <column name="address_2" type="varchar" required="false" size="255" />
    <column name="address_3" type="varchar" required="false" size="255" />
    <column name="zip_code" type="varchar" required="true" size="5" />
    <column name="town" type="varchar" required="true" size="255" />
    <column name="logo" type="varchar" required="false" size="255" />
    <column name="latitude" type="numeric" size="10,6" required="false" />
    <column name="longitude" type="numeric" size="10,6" required="false" />
    <column name="presentation" type="longvarchar" required="false" />
    <behavior name="sluggable" />
    <behavior name="timestampable" />
  </table>

  <!--
      manages the categories for company
  -->

  <table name="tab_category" phpName="Category">
    <column name="id" type="integer" required="true" primaryKey="true" autoIncrement="true" />
    <column name="name" type="VARCHAR" size="50" required="true" primaryString="true" />
    <behavior name="nested_set" />
    <behavior name="sluggable" />
  </table>

  <table name="link_company_category" isCrossRef="true">
    <column name="company_id" type="INTEGER" required="true" primaryKey="true" />
    <foreign-key foreignTable="tab_company" onDelete="cascade">
      <reference local="company_id" foreign="id" />
    </foreign-key>
    <column name="category_id" type="INTEGER" required="true" primaryKey="true" />
    <foreign-key foreignTable="tab_category" onDelete="cascade">
      <reference local="category_id" foreign="id" />
    </foreign-key>
  </table>

  <!--
      manages the accessible modules for company
  -->

  <table name="dic_available_module" phpName="CompanyModule" description="the company modules available">
    <column name="id" type="integer" required="true" primaryKey="true" autoIncrement="true" />
    <column name="name" type="varchar" required="true" size="55" primaryString="true"  />
    <unique>
      <unique-column name="name" size="55" />
    </unique>

  </table>

  <table name="link_company_available_module" isCrossRef="true" description="the link between company and available modules">

    <column name="company_id" type="integer" primaryKey="true" />
    <foreign-key foreignTable="tab_company">
      <reference local="company_id" foreign="id" />
    </foreign-key>

    <column name="available_module_id" type="integer" primaryKey="true" />
    <foreign-key foreignTable="dic_available_module">
      <reference local="available_module_id" foreign="id" />
    </foreign-key>

  </table>

  <!--
      the default credentials for company
  -->

  <table name="tab_company_default_credential" phpName="CompanyDefaultCredential" description="default rights for a company entity">

    <column name="id" type="integer" required="true" primaryKey="true" autoIncrement="true" />
    <column name="company_id" type="integer" required="true" />
    <column name="credential" type="varchar" required="true" />

    <foreign-key
                  foreignTable="tab_company"
                  onDelete="cascade"
                  refPhpName="DefaultCredentialObject"
                  phpName="Company" >
      <reference local="company_id" foreign="id" />
    </foreign-key>

  </table>

  <!--
      manages the propapplication preferences
  -->

  <table name="sf_guard_pro_preferences" phpName="sfGuardProPreferences">
    <column name="id" type="integer" required="true" primaryKey="true" autoIncrement="true" />
    <column name="user_id" type="integer" required="true" />
    <column name="company_id" type="integer" required="true" />
    <column name="date_format" type="varchar" required="true" default="D" size="1" />
    <column name="list_length" type="integer" required="true" default="20" />
    <column name="agenda_start_display_time" type="integer" required="true" default="8" />
    <column name="agenda_end_display_time" type="integer" required="true" default="19" />
    <column name="agenda_limit_display" type="boolean" default="" />
    <column name="agenda_nb_days" type="integer" required="true" default="3" />
    <column name="agenda_timeslots_per_hour" type="integer" required="true" default="4" />
    <column name="agenda_timeslot_height" type="integer" required="true" default="15" />
    <foreign-key name="fk_sf_guard_pro_preferences_user" foreignTable="sf_guard_user" onDelete="cascade">
      <reference local="user_id" foreign="id" />
    </foreign-key>
    <foreign-key name="fk_sf_guard_pro_preferences_company" foreignTable="tab_company" onDelete="cascade">
      <reference local="company_id" foreign="id" />
    </foreign-key>
  </table>




  <table name="tab_company_entity_extra_form_field" phpName="CompanyEntityExtraFormField">

    <column name="id"           type="integer" required="true" primaryKey="true" autoIncrement="true" />
    <column name="company_id"   type="integer" required="true" />
    <column name="field_type"   type="varchar" size="255" required="true" inheritance="single">
      <inheritance key="1" class="chCmsExtraFormFieldPhone" />
      <inheritance key="2" class="chCmsExtraFormFieldMail" />
      <inheritance key="3" class="chCmsExtraFormFieldSocialSecurityNumber" />
      <inheritance key="4" class="chCmsExtraFormFieldPassport" />
      <inheritance key="5" class="chCmsExtraFormFieldDriverLicence" />
      <inheritance key="6" class="chCmsExtraFormFieldId" />
      <inheritance key="7" class="chCmsExtraFormFieldNumber" />
      <inheritance key="8" class="chCmsExtraFormFieldString" />
      <inheritance key="9" class="chCmsExtraFormFieldLongText" />
      <inheritance key="10" class="chCmsExtraFormFieldHtml" />
    </column>
    <column name="field_label"  type="varchar" size="255" required="true" />
    <column name="field_help"   type="varchar" size="255" required="false" />
    <column name="is_public" type="boolean" required="true" default="false" />


    <foreign-key name="fk_tab_company_entity_extra_form_field_company" foreignTable="tab_company" onDelete="cascade">
      <reference local="company_id" foreign="id" />
    </foreign-key>

    <behavior name="sortable">
      <parameter name="use_scope" value="true" />
      <parameter name="scope_column" value="company_id" />
    </behavior>

  </table>


  <table name="tab_company_entity" phpName="CompanyEntity">

    <column name="id" type="integer" required="true" primaryKey="true" autoIncrement="true" />
    <column name="company_id"     type="integer" required="true" />
    <column name="user_id"        type="integer" required="false" />

    <column name="entity_type"    type="integer" required="true" inheritance="single">
      <inheritance key="1" class="Contractor" extends="CompanyEntity"/>
      <inheritance key="2" class="Ressource" extends="CompanyEntity"/>
    </column>

    <column name="company_name"   type="varchar" size="255" />
    <column name="agenda_header"  type="varchar" size="25" />
    <column name="public_name"    type="varchar" size="255" />
    <column name="phone"          type="varchar" required="false" size="15" />
    <column name="mobile"         type="varchar" required="false" size="15" />
    <column name="mail"           type="varchar" required="false" size="255" />
    <column name="address_1"      type="varchar" required="false" size="255" />
    <column name="address_2"      type="varchar" required="false" size="255" />
    <column name="address_3"      type="varchar" required="false" size="255" />
    <column name="zip_code"       type="varchar" required="false" size="5" />
    <column name="town"           type="varchar" required="false" size="255" />
    <column name="latitude"       type="numeric" size="10,6" required="false" />
    <column name="longitude"      type="numeric" size="10,6" required="false" />
    <column name="search_index"   type="varchar" required="true" size="255" />

    <!--
        list of different accesses.
        each one is a bitset for
          * Read   0x1
          * Update 0x2
          * Create 0x4
          * Delete 0x8
    -->
    <column name="access_calendar_company" type="integer" required="true" default="15" />
    <column name="access_calendar_protected"    type="integer" required="true" default="0" />
    <column name="access_contact_company"  type="integer" required="true" default="15" />
    <column name="access_contact_protected"  type="integer" required="true" default="0" />
    <!-- visibility is for CompanyEntity requests -->
    <column name="contacts_default_visibility" type="integer" default="1" required="true" />
    <!-- visibility is for CompanyEntity requests -->
    <column name="calendars_default_visibility" type="integer" default="1" required="true" />
    <!-- publish is for sfGuardUser requests -->
    <column name="calendars_default_publication" type="integer" default="1" required="true" />

    <index>
      <index-column name="search_index" />
      <index-column name="company_id" />
      <index-column name="user_id" />
    </index>
    <index>
      <index-column name="user_id" />
      <index-column name="company_id" />
      <index-column name="search_index" />
    </index>
    <index>
      <index-column name="company_id" />
      <index-column name="user_id" />
      <index-column name="search_index" />
    </index>

    <foreign-key name="fk_tab_company_entity_company" foreignTable="tab_company" onDelete="cascade">
      <reference local="company_id" foreign="id" />
    </foreign-key>

    <foreign-key
            name="fk_tab_company_entity_user"
            foreignTable="sf_guard_user"
            onDelete="setnull"
            onUpdate="setnull"
            phpName="User"
            refPhpName="CompanyEntity">
      <reference local="user_id" foreign="id" />
    </foreign-key>

    <behavior name="timestampable" />
    <behavior name="soft_delete" />
    <behavior name="chcms_extendable" >
      <parameter name="properties_table" value="tab_company_entity_property" />
    </behavior>

  </table>

  <table name="tab_company_entity_property" phpName="CompanyEntityProperty">

    <column name="id" type="integer" required="true" primaryKey="true" autoIncrement="true" />
    <column name="entity_id" type="integer" required="true" primaryKey="true" />
    <column name="field_id"       type="integer" required="false" />
    <column name="property_name"  type="varchar" size="255" />
    <column name="property_value" type="varchar" size="255" />

    <index>
      <index-column name="entity_id" />
      <index-column name="property_name" />
      <index-column name="field_id" />
    </index>
    <index>
      <index-column name="property_name" />
    </index>

    <foreign-key foreignTable="tab_company_entity" onDelete="cascade" onUpdate="cascade">
      <reference local="entity_id" foreign="id" />
    </foreign-key>
    <foreign-key  foreignTable="tab_company_entity_extra_form_field"
                  onDelete="cascade"
                  onUpdate="cascade"
                  phpName="FormField">
      <reference local="field_id" foreign="id" />
    </foreign-key>

  </table>


  <table name="tab_company_entity_credential" phpName="CompanyEntityCredential" description="the company entity credentials table">
    <column name="id" type="integer" required="true" primaryKey="true" autoIncrement="true" />
    <column name="entity_id" type="integer" required="true" />
    <column name="credential" type="varchar" required="true" />

    <foreign-key
                  foreignTable="tab_company_entity"
                  onDelete="cascade"
                  onUpdate="cascade"
                  phpName="Entity"
                  refPhpName="CredentialObject">
      <reference local="entity_id" foreign="id" />
    </foreign-key>

  </table>

  <table name="link_assistance" phpName="AssistantLink" >

    <column name="id" type="integer" required="true" primaryKey="true" autoIncrement="true" />
    <column name="assistant_of_id"  type="integer" required="true" />
    <column name="assisted_by_id"   type="integer" required="true" />

    <!--
        list of different accesses.
        each one is a bitset for
          * Read   0x1
          * Update 0x2
          * Create 0x4
          * Delete 0x8
    -->
    <column name="access_calendar_company" type="integer" required="true" default="15" />
    <column name="access_calendar_protected" type="integer" required="true" default="0" />
    <column name="access_contact_company"  type="integer" required="true" default="15" />
    <column name="access_contact_protected"  type="integer" required="true" default="0" />

    <index>
      <index-column name="assisted_by_id" />
      <index-column name="assistant_of_id" />
    </index>
    <index>
      <index-column name="assistant_of_id" />
      <index-column name="assisted_by_id" />
    </index>

    <foreign-key
                  foreignTable="tab_company_entity"
                  onDelete="cascade"
                  onUpdate="cascade"
                  phpName="Contractor"
                  refPhpName="AssistantLink"
                  defaultJoin="LEFT JOIN">
      <reference local="assistant_of_id" foreign="id" />
    </foreign-key>
    <foreign-key
                  foreignTable="tab_company_entity"
                  onDelete="cascade"
                  onUpdate="cascade"
                  phpName="Assistant"
                  refPhpName="AssistedLink"
                  defaultJoin="LEFT JOIN">
      <reference local="assisted_by_id" foreign="id" />
    </foreign-key>

  </table>

  <table name="tab_retailer" phpName="Retailer" description="Contains tresa retailers">

    <column name="id" type="integer" required="true" primaryKey="true" autoIncrement="true" />
    <column name="name" type="varchar" required="true" primaryString="true" />
    <column name="theme" type="varchar" required="true" />

    <behavior name="slugable" />

  </table>

  <table name="tab_retailer_contract" phpName="RetailerContract" description="Contains retailers s contracts">
    <column name="id" type="integer" required="true" primaryKey="true" autoIncrement="true" />
    <column name="retailer_id" type="integer" required="true" />

    <foreign-key foreignTable="tab_retailer" onDelete="cascade">
      <reference local="retailer_id" foreign="id" />
    </foreign-key>

    <behavior name="versionable"/>
  </table>

  <table name="tab_contract" phpName="Contract">
    <column name="company_id" type="integer" required="true" primaryKey="1" />
    <column name="subscriber_id" type="integer" required="false" />
    <column name="retailer_contract_id" type="integer" required="false" />
    <column name="nb_max_contractors" type="integer" required="true" />
    <column name="nb_max_services" type="integer" required="true" />
    <column name="is_public" type="boolean" required="true" default="1" />
    <column name="show_website" type="boolean" required="true" default="" />
    <column name="created_at" type="timestamp" />
    <column name="updated_at" type="timestamp" />
    <foreign-key name="fk_tab_contract_souscripteur" foreignTable="sf_guard_user" onDelete="setNull" phpName="Subscriber" refPhpName="Contract">
      <reference local="subscriber_id" foreign="id" />
    </foreign-key>
    <foreign-key name="fk_tab_contract_company" foreignTable="tab_company" onDelete="cascade">
      <reference local="company_id" foreign="id" />
    </foreign-key>
    <foreign-key foreignTable="tab_retailer_contract" onDelete="cascade">
      <reference local="retailer_contract_id" foreign="id" />
    </foreign-key>
    <behavior name="chcms_extendable" >
      <parameter name="properties_table" value="tab_contract_property" />
    </behavior>
  </table>

  <table name="tab_contract_property" phpName="ContractProperty">
    <column name="id" type="integer" required="true" primaryKey="true" autoIncrement="true" />
    <column name="contract_id" type="integer" required="true" primaryKey="true" />
    <foreign-key foreignTable="tab_contract" onDelete="cascade" onUpdate="cascade">
      <reference local="contract_id" foreign="company_id" />
    </foreign-key>
    <column name="property_name" type="varchar" size="255" />
    <column name="property_value" type="varchar" size="255" />
  </table>

  <table name="tab_company_preferences" phpName="CompanyPreferences">
    <column name="company_id" type="integer" required="true" primaryKey="true" />
    <column name="is_public" type="boolean" required="true" default="1" />
    <column name="need_ticket" type="boolean" required="true" default="" />
    <column name="website" type="varchar" required="false" size="250" />
    <column name="agenda_start_display_time" type="integer" required="true" default="8" />
    <column name="agenda_end_display_time" type="integer" required="true" default="19" />
    <column name="agenda_nb_days" type="integer" required="true" default="3" />
    <column name="agenda_timeslots_per_hour" type="integer" required="true" default="4" />
    <column name="agenda_timeslot_height" type="integer" required="true" default="15" />
    <column name="agenda_close_time_from_now" type="integer" required="true" default="15" />
    <column name="contacts_default_visibility" type="integer" default="4" required="true" />
    <column name="calendars_default_visibility" type="integer" default="4" required="true" />
    <column name="calendars_default_publication" type="integer" default="4" required="true" />

    <foreign-key name="fk_tab_company_preferences_company" foreignTable="tab_company" onDelete="cascade">
      <reference local="company_id" foreign="id" />
    </foreign-key>
  </table>

  <table name="tab_company_vocabulary" phpName="CompanyVocabulary">
    <column name="company_id" type="integer" required="true" primaryKey="1" />
    <column name="contact" type="varchar" required="true" default="[-Inf,1]fiche|(1,+Inf]fiches" size="100" />
    <column name="client" type="varchar" required="true" default="[-Inf,1]patient|(1,+Inf]patients" size="100" />
    <column name="assistant" type="varchar" required="true" default="[-Inf,1]secrétaire|(1,+Inf]secrétaires" size="100" />
    <column name="contractor" type="varchar" required="true" default="[-Inf,1]prestataire|(1,+Inf]prestataires" size="100" />
    <column name="service" type="varchar" required="true" default="[-Inf,1]prestation|(1,+Inf]prestations" size="100" />
    <foreign-key name="fk_tab_company_vocabulary_company" foreignTable="tab_company" onDelete="cascade">
      <reference local="company_id" foreign="id" />
    </foreign-key>
  </table>

  <!-- <table name="tab_company_file" phpName="CompanyFile">
    <column name="id" type="integer" required="true" primaryKey="true" autoIncrement="true" />
    <column name="entity_id" type="integer" required="true" />
    <column name="client_id" type="integer" />
    <column name="name" type="varchar" required="true" size="55" />
    <column name="birthday" type="bu_date" />
    <column name="phone" type="varchar" required="false" size="15" />
    <column name="mobile" type="varchar" required="false" size="15" />
    <column name="mail" type="varchar" required="false" size="255" />
    <column name="address_1" type="varchar" required="false" size="255" />
    <column name="address_2" type="varchar" required="false" size="255" />
    <column name="address_3" type="varchar" required="false" size="255" />
    <column name="zip_code" type="varchar" required="false" size="5" />
    <column name="town" type="varchar" required="false" size="255" />
    <column name="ticket" type="varchar" required="false" size="10" />
    <column name="search_index"  type="varchar" required="true" size="255" />

    <index>
      <index-column name="client_id" />
      <index-column name="entity_id" />
      <index-column name="id" />
    </index>
    <index>
      <index-column name="entity_id" />
      <index-column name="search_index" />
      <index-column name="client_id" />
      <index-column name="id" />
    </index>
    <index>
      <index-column name="search_index" />
      <index-column name="id" />
    </index>
    <unique>
      <unique-column name="ticket" />
    </unique>

    <foreign-key
            name="fk_tab_company_file_owner"
            foreignTable="tab_company_entity"
            onDelete="cascade"
            onUpdate="cascade"
            phpName="Owner"
            refPhpName="OwnedFiles">
      <reference local="entity_id" foreign="id" />
    </foreign-key>
    <foreign-key
            name="fk_tab_company_file_client"
            foreignTable="sf_guard_user"
            onDelete="cascade"
            onUpdate="cascade"
            phpName="Client"
            refPhpName="ClientFiles">
      <reference local="client_id" foreign="id" />
    </foreign-key>

    <behavior name="timestampable" />

    <behavior name="chcms_extendable" >
      <parameter name="properties_table" value="tab_company_file_property" />
    </behavior>

  </table>

  <table name="tab_company_file_property" phpName="CompanyFileProperty">

    <column name="id" type="integer" required="true" primaryKey="true" autoIncrement="true" />
    <column name="company_file_id" type="integer" required="true" primaryKey="true" />
    <column name="property_name" type="varchar" size="255" />
    <column name="property_value" type="varchar" size="255" />

    <foreign-key foreignTable="tab_company_file" onDelete="cascade" onUpdate="cascade">
      <reference local="company_file_id" foreign="id" />
    </foreign-key>

  </table>

  <table name="tab_company_file_comment" phpName="FileComment">

    <column name="id" type="integer" required="true" primaryKey="true" autoIncrement="true" />
    <column name="file_id" type="integer" required="true" />
    <column name="author_id" type="integer" required="true" />
    <column name="body" type="longvarchar" />

    <foreign-key name="fk_tab_company_file_comment_author" foreignTable="tab_company_entity" onDelete="cascade">
      <reference local="author_id" foreign="id" />
    </foreign-key>
    <foreign-key name="fk_tab_company_file_comment_file" foreignTable="tab_company_file" onDelete="cascade">
      <reference local="file_id" foreign="id" />
    </foreign-key>

    <behavior name="timestampable" />

  </table>
  -->

  <table name="tab_service" phpName="Service" package="lib.model.services">
    <column name="id" type="integer" required="true" primaryKey="true" autoIncrement="true" />
    <column name="company_id" type="integer" required="true" />
    <foreign-key foreignTable="tab_company" onDelete="cascade" onUpdate="cascade">
      <reference local="company_id" foreign="id" />
    </foreign-key>
    <column name="service_type" type="varchar" size="250" required="true" inheritance="single" default="Service">
    </column>
    <column name="name" type="varchar" required="true" size="50" />
    <column name="duration" type="integer" required="true" default="15" />
    <column name="transparency" type="boolean" required="true" default="" />
    <column name="is_public" type="boolean" required="true" default="true" />
    <column name="nb_clients" type="integer" required="true" default="1" />
    <behavior name="chcms_extendable" >
      <parameter name="properties_table" value="tab_service_property" />
    </behavior>
  </table>

  <table name="tab_service_property" phpName="ServiceProperty" package="lib.model.services">
    <column name="id" type="integer" required="true" primaryKey="true" autoIncrement="true" />
    <column name="service_id" type="integer" required="true" primaryKey="true" />
    <foreign-key foreignTable="tab_service" onDelete="cascade" onUpdate="cascade">
      <reference local="service_id" foreign="id" />
    </foreign-key>
    <column name="property_name" type="varchar" size="255" />
    <column name="property_value" type="varchar" size="255" />
  </table>


  <table name="link_rule_service" phpName="LinkFreeBusyService" package="lib.model.agenda" isCrossRef="true">
    <column name="free_busy_id" type="integer" required="true" primaryKey="true" />
    <foreign-key foreignTable="tab_free_busy" onDelete="cascade" onUpdate="cascade">
      <reference local="free_busy_id" foreign="id" />
    </foreign-key>
    <column name="service_id" type="integer" required="true" primaryKey="true" />
    <foreign-key foreignTable="tab_service" onDelete="cascade" onUpdate="cascade">
      <reference local="service_id" foreign="id" />
    </foreign-key>
  </table>

<!--
vim:ft=xml.propelxml
-->
</database>
