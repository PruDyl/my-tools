<?php
/**
* @classname:chCmsTresaProWidgetsRouting
* @scope PUBLIC
* @description the routing class for plugin chCmsTresaProWidgetsPlugin
*
* @package chCmsTresaWidgetsPlugin
* @subpackage routing
* @author Julien MUETTON <julien_muetton@carpe-hora.com>
* @copyright 2010
*/
class chCmsTresaWidgetsRouting
{
  public static function listenToRoutingLoadConfigurationEvent(sfEvent $event)
  {
    $routing = $event->getSubject();
    foreach (array(
          'chCmsTresaWidgetUpcommingEvents',
          'chCmsTresaWidgetWaitForApprovalEvents',
          'chCmsTresaWidgetTodo',
          'chCmsTresaProWidgetUpcommingEvents',
          'chCmsTresaProWidgetWaitForApprovalEvents',
          'chCmsTresaProWidgetTodo',
          ) as $module)
    {
      if(in_array($module, sfConfig::get('sf_enabled_modules')))
      {
        call_user_func(array('chCmsTresaWidgetsRouting',sprintf('prepend%sRoutes', ucfirst($module))),  $routing);
      }
    }
  }

  protected static function prependChCmsTresaWidgetUpcommingEventsRoutes($routing)
  {
    $routing->prependRoute(
                    'widget_upcoming_events_list',
                    new sfRequestRoute(
                        '/widgets/upcoming-events/list',
                        array('module' => 'chCmsTresaWidgetUpcommingEvents', 'action' => 'list'),
                        array(),
                        array('app_expose' => true)));

  }

  protected static function prependChCmsTresaWidgetWaitForApprovalEventsRoutes($routing)
  {
    $routing->prependRoute(
                    'widget_wait_for_approval_list',
                    new sfRequestRoute(
                        '/widgets/wait-for-approval/list',
                        array('module' => 'chCmsTresaWidgetWaitForApprovalEvents', 'action' => 'list')
                        array(),
                        array('app_expose' => true)));
    $routing->prependRoute(
                    'widget_wait_for_approval_approve',
                    new sfRequestRoute(
                        '/widgets/wait-for-approval/approve',
                        array('module' => 'chCmsTresaWidgetWaitForApprovalEvents', 'action' => 'approve')
                        array(),
                        array('app_expose' => true)));
    $routing->prependRoute(
                    'widget_wait_for_approval_decline',
                    new sfRequestRoute(
                        '/widgets/wait-for-approval/decline',
                        array('module' => 'chCmsTresaWidgetWaitForApprovalEvents', 'action' => 'decline')
                        array(),
                        array('app_expose' => true)));
  }

  protected static function prependChCmsTresaWidgetTodoRoutes($routing)
  {
    $routing->prependRoute(
                    'widget_todo_list',
                    new sfRequestRoute(
                        '/widgets/todo/list',
                        array('module' => 'chCmsTresaWidgetTodo', 'action' => 'list')
                        array(),
                        array('app_expose' => true)));
    $routing->prependRoute(
                    'widget_todo_add',
                    new sfRequestRoute(
                        '/widgets/todo/add',
                        array('module' => 'chCmsTresaWidgetTodo', 'action' => 'add')
                        array(),
                        array('app_expose' => true)));
    $routing->prependRoute(
                    'widget_todo_remove',
                    new sfRequestRoute(
                        '/widgets/todo/:id/remove',
                        array('module' => 'chCmsTresaWidgetTodo', 'action' => 'remove')
                        array(),
                        array('app_expose' => true)));
  }

  protected static function prependChCmsTresaProWidgetUpcommingEventsRoutes($routing)
  {
    $routing->prependRoute(
                    'widget_upcoming_pro_events_list',
                    new sfRequestRoute(
                        '/widgets/upcoming-pro-events/list',
                        array('module' => 'chCmsTresaProWidgetUpcommingEvents', 'action' => 'list')
                        array(),
                        array('app_expose' => true)));

  }

  protected static function prependChCmsTresaProWidgetWaitForApprovalEventsRoutes($routing)
  {
    $routing->prependRoute(
                    'widget_wait_pro_for_approval_list',
                    new sfRequestRoute(
                        '/widgets/wait-pro-for-approval/list',
                        array('module' => 'chCmsTresaProWidgetWaitForApprovalEvents', 'action' => 'list')
                        array(),
                        array('app_expose' => true)));
    $routing->prependRoute(
                    'widget_wait_pro_for_approval_approve',
                    new sfRequestRoute(
                        '/widgets/wait-pro-for-approval/approve',
                        array('module' => 'chCmsTresaProWidgetWaitForApprovalEvents', 'action' => 'approve')
                        array(),
                        array('app_expose' => true)));
    $routing->prependRoute(
                    'widget_wait_pro_for_approval_decline',
                    new sfRequestRoute(
                        '/widgets/wait-pro-for-approval/decline',
                        array('module' => 'chCmsTresaProWidgetWaitForApprovalEvents', 'action' => 'decline')
                        array(),
                        array('app_expose' => true)));
  }

  protected static function prependChCmsTresaProWidgetTodoRoutes($routing)
  {
    $routing->prependRoute(
                    'widget_pro_todo_list',
                    new sfRequestRoute(
                        '/widgets/pro-todo/list',
                        array('module' => 'chCmsTresaProWidgetTodo', 'action' => 'list')
                        array(),
                        array('app_expose' => true)));
    $routing->prependRoute(
                    'widget_pro_todo_add',
                    new sfRequestRoute(
                        '/widgets/pro-todo/add',
                        array('module' => 'chCmsTresaProWidgetTodo', 'action' => 'add')
                        array(),
                        array('app_expose' => true)));
    $routing->prependRoute(
                    'widget_pro_todo_remove',
                    new sfRequestRoute(
                        '/widgets/pro-todo/:id/remove',
                        array('module' => 'chCmsTresaProWidgetTodo', 'action' => 'remove')
                        array(),
                        array('app_expose' => true)));
  }
} // END OF chCmsTresaProWidgetsRouting
