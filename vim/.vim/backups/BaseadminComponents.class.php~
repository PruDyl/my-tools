<?php
/**
 * This file declare the BaseadminComponents class.
 *
 * @package chCmsApplicationPlugin
 * @subpackage module-admin
 * @author Julien Muetton <julien_muetton@carpe-hora.com>
 * @copyright (c) Carpe Hora SARL 2010
 * @since 2010-12-21
 */

/**
 * the admin module components
 */
class BaseadminComponents extends sfComponents
{
  protected function getRoute()
  {
    return $this->getRequest()->getAttribute('sf_route');
  }

  /**
   * the menubar for an admin group
   *
   * @param sfWebRequest $request the user request
   * @return
   */
  public function executeMenuBar(sfWebRequest $request)
  {
    $this->group = $this->getRoute()->getGroup();
  }

  /**
   * the group index default component
   *
   * @param sfWebRequest $request the user request
   * @return
   */
  public function executeGroupIndex(sfWebRequest $request)
  {
    $this->group = $this->getRoute()->getGroup();
  }

  /**
   * the main admin menu (left bar) component
   *
   * @param sfWebRequest $request the user request
   * @return
   */
  public function executeMainMenu(sfWebRequest $request)
  {
    $this->menu = AdminMenu::getInstance();
  }
  /**
   * entry point for AccordeonMenu action
   *
   * @param sfWebRequest $request the user request
   * @return
   */
  public function executeAccordeonMainMenu(sfWebRequest $request)
  {
    $this->menu = AdminMenu::getInstance();
  }
} // END OF BaseadminComponents
