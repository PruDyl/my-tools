<?php
/**
 * This file declare the BasechCmsMessageNotifier class.
 *
 * @package lib
 * @subpackage notifier
 * @author Ludovic Pellé <ludovic_pelle@carpe-hora.com>
 * @copyright (c) Carpe Hora SARL 2011
 * @since 2011-07-13
 */

/**
 * abstract class whose define notifier squeletton and implemente Base action
 */
abstract class BasechCmsMessageNotifier
{
   protected $context;

  /**
   * undocumented function
   *
   * @return void
   * @author Ludovic Pellé <ludovic_pelle@carpe-hora.com>
   **/
  public function __construct($context)
  {
   $this->context = $context;
  }

  /**
   * undocumented function
   *
   * @return void
   * @author Ludovic Pellé <ludovic_pelle@carpe-hora.com>
   **/
  public function registerEvents()
  {
    $dispatcher = $this->context->getEventDispatcher();
    $dispatcher->connect('user.notify', array($this, 'sendUser'));
    $dispatcher->connect('contact.notify', array($this, 'sendContact'));
    $dispatcher->connect('company.notify', array($this, 'sendCompany'));
    $dispatcher->connect('company_entity.notify', array($this, 'sendCompanyEntity'));

  }

  /**
   * listener to sendMessage to GuardUser
   *
   * @return null|true
   **/
  abstract public function sendUser(sfEvent $event);

  /**
   * listener to sendMessage to Contact
   *
   * @return null|true
   **/
  abstract public function sendContact(sfEvent $event);

  /**
   * listener to sendMessage to Company
   *
   * @return null|true
   **/
  abstract public function sendCompany(sfEvent $event);

  /**
   * listener to sendMessage to CompanyEntity
   *
   * @return null|true
   **/
  abstract public function sendCompanyEntity(sfEvent $event);

} // END OF BasechCmsMessageNotifier
